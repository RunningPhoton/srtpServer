package com.demo.database.data;

import org.springframework.context.support.ClassPathXmlApplicationContext;
import org.springframework.context.support.FileSystemXmlApplicationContext;

import com.demo.database.idao.IDaoService;
import com.demo.database.idao.impl.DaoServiceImpl;

public class text {

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		
		ClassPathXmlApplicationContext ctx = new ClassPathXmlApplicationContext("/applicationContext.xml");
		
		IDaoService idaoService = (DaoServiceImpl) ctx.getBean("idaoService");
//		FileSystemXmlApplicationContext ctx2 = new FileSystemXmlApplicationContext("/WebContent/WEB-INF/web.xml");
//				System.out.println(ctx);
//		Session session = sessionFactory.openSession();
		
		TDemoUser a = new TDemoUser();
		TDemoUser b = new TDemoUser();
		TDemoUser c = new TDemoUser();
		c.setUserName("123");
		a.setUserName("hyx");
		b.setUserName("qyd");
		
		TDemoMessage messageUser = new TDemoMessage();
		messageUser.setInferiorUser(b);
		messageUser.setMainUser(a);
		
		b.addUserMessageGet(messageUser);
		a.addUserMessage(messageUser);
		
		String temp = "Hello of my girl!!!!!!";
		messageUser.setMessageContent(temp);
		
		TDemoCircle circle = new TDemoCircle();
		circle.setCircleName("高数");
		circle.addUser(a);
		
		idaoService.save(circle);
		a.setUserCircle(circle);
		
		a.addFriend(b);
		b.addFriend(c);
		b.addFriend(a);
		c.addFriend(a);
		c.addFriend(b);
		try {
			idaoService.save(c);
		} catch (Exception e) {
			e.printStackTrace();
		}
		ctx.close();
	}
}
